<html>
<head>
  <title>Integers</title>
  <basefont face="Segoe UI" size="2" />
  <meta http-equiv="Content-Type" content="text/html;charset=utf-8" />
  <meta name="exporter-version" content="Evernote Windows/308919 (en-US, MWS); Windows/10.0.0 (Win64);"/>
  <style>
    body, td {
      font-family: Segoe UI;
      font-size: 10pt;
    }
  </style>
</head>
<body>
<a name="526"/>
<h1>Integers</h1>

<div>
<span><div><div><div><div><span style="font-size: 16pt;">Types of Integers</span></div><table style="border-collapse: collapse; min-width: 100%;"><colgroup><col style="width: 74px;"></col><col style="width: 69px;"></col><col style="width: 75px;"></col><col style="width: 250px;"></col></colgroup><tbody><tr><td style="width: 74px; padding: 8px; border: 1px solid;"><div style="text-align: center;">Type</div></td><td style="width: 69px; padding: 8px; border: 1px solid;"><div style="text-align: center;">Bits</div></td><td style="width: 75px; padding: 8px; border: 1px solid;"><div style="text-align: center;">Signed?</div></td><td style="width: 250px; padding: 8px; border: 1px solid;"><div style="text-align: center;">Literals</div></td></tr><tr><td style="width: 74px; padding: 8px; border: 1px solid;"><div>byte</div><div>short</div></td><td style="width: 69px; padding: 8px; border: 1px solid;"><div>8</div><div>16</div></td><td style="width: 75px; padding: 8px; border: 1px solid;"><div>Yes</div><div>Yes</div></td><td style="width: 250px; padding: 8px; border: 1px solid;"><div>Cast from int: (byte) 3</div><div>None. Cast from int: (short) 4096</div></td></tr><tr><td style="width: 74px; padding: 8px; border: 1px solid;"><div>char</div></td><td style="width: 69px; padding: 8px; border: 1px solid;"><div>16</div></td><td style="width: 75px; padding: 8px; border: 1px solid;"><div>No</div></td><td style="width: 250px; padding: 8px; border: 1px solid;"><div>'a' // (char) 97</div><div>'\n' // newline ((char) 10)</div><div>'\t' // tab ((char) 8)</div><div>'\\' //backslash</div><div>'A', '\101', '\u0041' // == (char) 65</div><div><br/></div></td></tr><tr><td style="width: 74px; padding: 8px; border: 1px solid;"><div>int</div></td><td style="width: 69px; padding: 8px; border: 1px solid;"><div>32</div></td><td style="width: 75px; padding: 8px; border: 1px solid;"><div>Yes</div></td><td style="width: 250px; padding: 8px; border: 1px solid;"><div>123</div><div>0100 // Octal for 64</div><div>0x3f , 0xffffffff // Hexadecimal  61, -1(!)</div></td></tr><tr><td style="width: 74px; padding: 8px; border: 1px solid;"><div>long</div></td><td style="width: 69px; padding: 8px; border: 1px solid;"><div>64</div></td><td style="width: 75px; padding: 8px; border: 1px solid;"><div>Yes</div></td><td style="width: 250px; padding: 8px; border: 1px solid;"><div>123L, 01000L, 0x3fL</div><div>1234567891011L</div></td></tr></tbody></table><div>Negative numbers are just negated (positive) literals</div><div><span style="font-style: italic;">'N bits'</span> means that there are 2<span style="vertical-align: super;">N</span><span style="vertical-align: sub;"> </span>integers in the domain of the type:</div><div style="margin-left: 40px;">If <span style="font-weight: bold;">signed</span>, the range of values is -2<span style="vertical-align: super;">N-1</span> ... 2<span style="vertical-align: super;">N-1</span> -1.</div><div style="margin-left: 40px;">If <span style="font-weight: bold;">unsigned</span>, <span style="text-decoration: underline;">only non-negative numbers</span>, and range is 0 .. 2<span style="vertical-align: super;">N</span> - 1</div><div style="margin-left: 40px;"><br/></div><div><span style="font-size: 16pt;">Overflow</span></div><ul><li><div>Problem: How do we handle overflow? (e.g. 10000 * 10000 * 10000?)</div></li><li><div>Some languages through an exception (Ada), some give undefined results (C, C++)</div></li><li><div>Java defines the result of any arithmetic operation or conversion on integer types to &quot;wrap around&quot; - <span style="font-weight: bold;">modular arithmetic</span></div></li><ul><li><div>That is, the &quot;next number&quot; after the largest in an integer type is the smallest (like &quot;clock arithmetic&quot;)</div></li><li><div>E.g. (byte) 128 == (byte) (127+1) == (byte) -128</div></li><li><div>In general:</div></li><ul><li><div>If the result of some arithmetic subexpression is supposed to have type T, an n-bit integer type,</div></li><li><div>then we compute the real (mathematical) value, x,</div></li><li><div>and yield a number, x', that is in the range of T, and that is equivalent to x modulo 2<span style="vertical-align: super;">n</span>.</div></li><li><div>(That means that x - x' is a multiple of 2<span style="vertical-align: super;">n</span>)</div></li></ul></ul></ul><div><span style="font-size: 16pt;">Modular Arithmetic</span></div><ul><li><div><span style="font-size: 10pt;">Define a </span> <span style="letter-spacing: normal; orphans: 2; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px;"><span style="font-size: 10pt; color: rgb(34, 34, 34); font-variant-caps: normal; font-variant-ligatures: normal;">≡</span></span><span style="font-size: 16px; letter-spacing: normal; orphans: 2; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; color: rgb(34, 34, 34); font-family: Roboto, arial, sans-serif; font-variant-caps: normal; font-variant-ligatures: normal;"> </span><span style="letter-spacing: normal; orphans: 2; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px;"><span style="font-size: 10pt; color: rgb(34, 34, 34); font-variant-caps: normal; font-variant-ligatures: normal;">b (mod n) to mean that a - b = kn for some integer k</span></span></div></li><li><div><span style="letter-spacing: normal; orphans: 2; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px;"><span style="font-size: 10pt; color: rgb(34, 34, 34); font-variant-caps: normal; font-variant-ligatures: normal;">Define the binary operation a mod n as the value b such that a </span></span><span style="letter-spacing: normal; orphans: 2; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; font-size: 10pt; color: rgb(34, 34, 34); font-variant-caps: normal; font-variant-ligatures: normal;">≡ b (mod n) and 0 &lt;= b &lt; n for n &gt; 0. <span style="font-size: 10pt; color: rgb(34, 34, 34); font-variant-caps: normal; font-variant-ligatures: normal; text-decoration: underline;">NOT the same as Java's % operation</span></span></div></li><li><div>Various facts (let <span style="text-decoration: underline;">a'</span> denote <span style="text-decoration: underline;">a mod n</span>)</div></li><ul><li><div>a'' = a'</div></li><li><div>a' + b'' = (a' + b') = a + b'</div></li><li><div>(a' - b')' = (a' + (-b)')' = (a - b)'</div></li><li><div>(a' * b')' = a' * b' = a*b'</div></li><li><div>(a<span style="vertical-align: super;">k</span>)' = ((a')<span style="vertical-align: super;">k</span>)' = (a * (a<span style="vertical-align: super;">k-1</span>)')', for k &gt; 0</div></li></ul></ul><div><span style="font-size: 14pt;">Examples</span></div><ul><li><div>(byte) (64*8) yields 0, since 512 - 0 == 2 * 2<span style="vertical-align: super;">8</span></div></li><li><div>(byte) (64*2) and (byte) (127 + 1) yield -128, since 128 - (-128) = 1 x 2<span style="vertical-align: super;">8</span></div></li><li><div>(byte) (101*99) yields 15, since 9999 - 15 = 39 x 2<span style="vertical-align: super;">8</span></div></li><li><div>(byte) (-30*13) yields 122, since -390 - 122 = -2 x 2<span style="vertical-align: super; font-size: smaller; font-size: smaller;">8</span></div></li><li><div>(char) (-1) yields 2<span style="vertical-align: super;">16</span>-1, since -1 - (2<span style="vertical-align: super;">16</span> - 1) = -1 x 2<span style="vertical-align: super; font-size: smaller; font-size: smaller;">16</span></div></li><ul><li><div>-1 is not in range of characters, wraps around to largest possible character</div></li></ul><li><div>Rarely occurs in Integer division, ONLY occurs in the case /(-1) can produce an overflow</div></li></ul><div>Modular Arithmetic and Bits</div><ul><li><div>Java uses binary arithmetic by default</div></li><li><div>Instead of returning the full value, java just returns the value of the final byte</div></li></ul><div><div><br/></div><table style="border-collapse: collapse; min-width: 100%;"><colgroup><col style="width: 130px;"></col><col style="width: 130px;"></col></colgroup><tbody><tr><td style="width: 130px; padding: 8px; border: 1px solid;"><div style="text-align: center;">Decimal</div></td><td style="width: 130px; padding: 8px; border: 1px solid;"><div style="text-align: center;">Binary</div></td></tr><tr><td style="width: 130px; padding: 8px; border: 1px solid;"><div style="text-align: right;">101</div><div style="text-align: right;">x 99</div></td><td style="width: 130px; padding: 8px; border: 1px solid;"><div style="text-align: right;">1100101</div><div style="text-align: right;">1100011</div></td></tr><tr><td style="width: 130px; padding: 8px; border: 1px solid;"><div style="text-align: right;">9999</div><div style="text-align: right;">-9984</div></td><td style="width: 130px; padding: 8px; border: 1px solid;"><div style="text-align: right;">100111|00001111</div><div style="text-align: right;">100111|00000000</div></td></tr><tr><td style="width: 130px; padding: 8px; border: 1px solid;"><div style="text-align: right;">15</div></td><td style="width: 130px; padding: 8px; border: 1px solid;"><div style="text-align: right;">00001111</div></td></tr></tbody></table><div><br/></div></div><ul><li><div>In general, bit <span style="font-style: italic;">n</span> counting form 0 at the right, corresponds to 2<span style="vertical-align: super;">n</span></div></li><li><div>The bits to the left of the vertical bar represent multiples of 2<span style="vertical-align: super;">8</span> = 256</div></li><ul><li><div>Throwing these bits away is the same as arithmetic modulo 256 </div></li></ul></ul><div>Negative Numbers</div></div><ul><li><div>-1 as a byte - 11111111 Why?</div></li></ul><div><div><br/></div><table style="border-collapse: collapse; min-width: 100%;"><colgroup><col style="width: 130px;"></col><col style="width: 130px;"></col></colgroup><tbody><tr><td style="width: 130px; padding: 8px; border: 1px solid;"><div style="text-align: right;">1</div></td><td style="width: 130px; padding: 8px; border: 1px solid;"><div style="text-align: right;">00000001</div></td></tr><tr><td style="width: 130px; padding: 8px; border: 1px solid;"><div style="text-align: right;">+ -1</div></td><td style="width: 130px; padding: 8px; border: 1px solid;"><div style="text-align: right;">11111111</div></td></tr><tr><td style="width: 130px; padding: 8px; border: 1px solid;"><div style="text-align: right;">= 0</div></td><td style="width: 130px; padding: 8px; border: 1px solid;"><div style="text-align: right;">1|00000000</div></td></tr></tbody></table><ul><li><div>The first byte of the result gets thrown off, leaving 0 as the result, because 1 + (-1) = 0</div></li><ul><li><div>127 = 01111111, -1 is 11111111</div></li><li><div>-2 = 11111110</div></li><ul><li><div>counting up with negative numbers is like counting down with positives</div></li></ul><li><div>Negative numbers will always have the first bit (<span style="font-weight: bold;">signed bit</span>) as 1</div></li></ul><li><div>On unsigned types (char), arithmetic is the same, but we represent only non-negative numbers modulo 2<span style="vertical-align: super;">16</span></div></li></ul><div>Conversion</div></div></div><ul><li><div>With <span style="font-weight: bold;">reference</span> types</div></li><ul><li><div>casting doesn't change the value, it just gives information to the compiler</div></li><li><div>You can only assign one object as another, one must be a subtypek</div></li></ul><li><div>For <span style="font-weight: bold;">integer </span>types</div></li><ul><li><div>casting gives a <span style="font-weight: bold;">different value</span>. </div></li><li><div>For assignment, one must be shorter than the other</div></li><li><div>Examples</div></li><ul><li><div>OK: no information is lost</div></li><ul><li><div>aShort = aByte; (All values of a Byte are valid values of a Short)</div></li><li><div>anInt = aByte;</div></li><li><div>anInt = aShort;</div></li><li><div>anInt = achar;</div></li><li><div>aLong = anInt;</div></li></ul><li><div><span style="font-weight: bold;">Not</span> OK: some information might be lost (requires explicit casting i.e. (byte) x )</div></li><ul><li><div>anInt = aLong;</div></li><li><div>aByte = anInt;</div></li><li><div>aChar = anInt;</div></li><li><div>aShort = anInt;</div></li><li><div>aShort = aChar;</div></li><li><div>aChar  = aShort;</div></li><li><div>aChar = aByte;</div></li></ul><li><div>Ok by special dispensation:</div></li><ul><li><div>aByte = 13; (13 is a compile-time constant)</div></li><li><div>aByte = 12=100; (112 is a compile time constant)</div></li></ul></ul></ul></ul><div>Promotion</div><ul><li><div>Arithmetic operations <span style="font-weight: bold;">promote</span> operands as needed</div></li><li><div><span style="font-weight: bold;">Promotion</span> is just implicit conversion</div></li><li><div>For integer operations:</div></li><ul><li><div>If either operand is a <span style="font-weight: bold;">long</span>, promote both to long</div></li><li><div>Otherwise, promote both to int</div></li></ul><li><div>Examples:</div></li><ul><li><div>aByte + 3 == (int) aByte + 3</div></li><li><div>aLong + 3 == aLong + (long) 3</div></li><li><div>'A' + 2 == (int) 'A' + 2</div></li><li><div>aByte = aByte + 1 <span style="font-weight: bold;">ILLEGAL</span> (an integer cannot be assigned to a byte without explicit coercion)</div></li><ul><li><div>aByte+= 1; &lt;-- This works</div></li></ul><li><div>char lowerCaseChar = (char) ('a' + aChar - 'A'); (cast as char because arithmetic converts char to an int)</div></li></ul></ul><div>Bit Twiddling</div><ul><li><div>Java allows for handling integer types a s sequences of bits. No &quot;conversion to bits&quot; needed</div></li></ul><div>Operations and their uses</div><div><table style="border-collapse: collapse; min-width: 100%;"><colgroup><col style="width: 130px;"></col><col style="width: 130px;"></col><col style="width: 130px;"></col><col style="width: 130px;"></col></colgroup><tbody><tr><td style="width: 130px; padding: 8px; border: 1px solid;"><div style="text-align: center;">Mask (AND)</div></td><td style="width: 130px; padding: 8px; border: 1px solid;"><div style="text-align: center;">Set (OR)</div></td><td style="width: 130px; padding: 8px; border: 1px solid;"><div style="text-align: center;">Flip (XOR !=)</div></td><td style="width: 130px; padding: 8px; border: 1px solid;"><div style="text-align: center;">Flip All</div></td></tr><tr><td style="width: 130px; padding: 8px; border: 1px solid;"><div style="text-align: right;">0010110</div><div style="text-align: right;">&amp; 10100111</div></td><td style="width: 130px; padding: 8px; border: 1px solid;"><div style="text-align: right;">00101100</div><div style="text-align: right;">| 10100111</div></td><td style="width: 130px; padding: 8px; border: 1px solid;"><div style="text-align: right;">0010110</div><div style="text-align: right;">^ 10100111</div></td><td style="width: 130px; padding: 8px; border: 1px solid;"><div style="text-align: right;"><br/></div><div style="text-align: right;">~ 10100111</div></td></tr><tr><td style="width: 130px; padding: 8px; border: 1px solid;"><div style="text-align: right;">00100100</div></td><td style="width: 130px; padding: 8px; border: 1px solid;"><div style="text-align: right;">10101111</div></td><td style="width: 130px; padding: 8px; border: 1px solid;"><div style="text-align: right;">10001011</div></td><td style="width: 130px; padding: 8px; border: 1px solid;"><div style="text-align: right;">01011000</div></td></tr></tbody></table><div>Shifting</div></div><div><table style="border-collapse: collapse; min-width: 100%;"><colgroup><col style="width: 130px;"></col><col style="width: 130px;"></col><col style="width: 130px;"></col></colgroup><tbody><tr><td style="width: 130px; padding: 8px; border: 1px solid;"><div style="text-align: center;">Left</div></td><td style="width: 130px; padding: 8px; border: 1px solid;"><div style="text-align: center;">Arithmetic Right</div></td><td style="width: 130px; padding: 8px; border: 1px solid;"><div style="text-align: center;">Logical Right</div></td></tr><tr><td style="width: 130px; padding: 8px; border: 1px solid;"><div style="text-align: left;">10101101 &lt;&lt; 3</div><div style="text-align: left;">01101000</div></td><td style="width: 130px; padding: 8px; border: 1px solid;"><div style="text-align: left;">10101101 &gt;&gt; 3</div><div style="text-align: left;">11110101</div></td><td style="width: 130px; padding: 8px; border: 1px solid;"><div style="text-align: left;">10101100 &gt;&gt;&gt; 3</div><div style="text-align: left;">00010101</div></td></tr></tbody></table><div>Meaning</div></div><ul><li><div>Left - Shift all bits to the left, discarding any excess bits, filling in empty bits with 0 starting from right</div></li><li><div>Arithmetic Right - Shift all bits to the right <span style="font-weight: bold;">except signed bit</span> and copy signed bit into empty spots</div></li><li><div>Logical Right - Move everything to the right, fill in empty bits with 0 starting from left</div></li></ul><div>Questions</div><div style="margin-left: 40px;">(-1) &gt;&gt;&gt; 29?                        7 (3 bits remain after 29 bits have been shifted to the right)</div><div style="margin-left: 40px;">x &lt;&lt; n?                                x * 2<span style="vertical-align: super;">n</span> (every bit moves up <span style="font-style: italic;">n</span> spaces)</div><div style="margin-left: 40px;">x &gt;&gt; n?                                x/ 2<span style="vertical-align: super;">n</span> rounded down</div><div style="margin-left: 40px;">(x &gt;&gt;&gt; 3) &amp; ((1&lt;&lt; 5)-1)?     5-bit integer, bits 3-7 of x (first half removes last 3 bits, second half limits length to 5) </div><div><span style="text-decoration: underline; font-weight: bold;">Note</span><span style="text-decoration: underline;">: Negative numbers that</span> <span style="text-decoration: underline; font-weight: bold;">LOOK</span><span style="text-decoration: underline;"> bigger are actually smaller</span></div><div><br/></div></div><div><br/></div></span>
</div></body></html> 